/*
    Hero
    ====
*/

$hero-namespace: c- !default;

$hero-breakpoint: 40rem !default;
$hero-breakpoint-wide: $hero-breakpoint * 1.6 !default;

$hero-max-message-breakpoint: 100rem !default;

$hero-min-message-size: 16px !default;
$hero-max-message-size: 26px !default;
$hero-min-heading-size: 24px !default;
$hero-max-heading-size: 46px !default;




.#{$hero-namespace}hero-wrap.#{$hero-namespace}hero-carousel {
    padding: 0;
    margin: 0;
    min-inline-size: auto;
    border: 0;
    width: 100%;

    & > div {
        position: relative;
        display: flex;
        flex-direction: column;
    }


    .#{$hero-namespace}hero-carousel__nav {

        padding: 0 0.6rem;
        margin: -#{$s__sz-m + $s__sz-s} 0 0 0;

        z-index: 2;

        p {
            margin: 0;
        }

        a[href] {
            display: inline-block;
            overflow: hidden;
            border-radius: 0.6rem;
            height: $s__sz-s;
            width: $s__sz-s;
            background: #bbb;
            text-indent: $s__sz-s;;
            border: 0.1rem solid #333;
            padding: 0;
            margin: 0 0.3rem;

            &:hover {
                background: #888;
            }
        }
    }


    hr {
        display: none;
    }

    .#{$hero-namespace}hero-carousel__scroll-area {
        order: -1;

        display: flex;
        overflow-x: scroll;

        scroll-behavior: smooth;

        scroll-snap-type: mandatory; /* [1] */
        scroll-snap-points-x: repeat(100%); /* [1] */

        scroll-snap-type: x mandatory; /* [2] */
        -webkit-overflow-scrolling: touch; /* [3] */

        -ms-scroll-snap-type: mandatory; /* [4] */
        -ms-scroll-snap-points-x: repeat(100%);  /* [4] */

        &:focus {
            box-shadow: 0 0 0 3px rgba(0,0,0,0.3);
            outline: 0 none;
        }


        scrollbar-width: none;
        -ms-overflow-style: none;

        &::-webkit-scrollbar {
            display: none;
        }

        .#{$hero-namespace}hero {
            flex: 0 0 100%;

            scroll-snap-align: start;

            position: relative;
            display: flex;
            flex-direction: column;
            justify-content: space-between;

            /*
                Turn off :target highlighting animation.
            */
               -moz-animation: none;
            -webkit-animation: none;
                    animation: none;
        }

        .#{$hero-namespace}hero__message {
            padding-bottom: $s__sz-l;
        }
    }
}

.#{$hero-namespace}hero-wrap .#{$hero-namespace}hero {

    position: relative;
    background: #fff;


        /*
            The pattern markup allows for a TFS border, so zap that:
        */
        & > div {
            border: 0;
            padding: 0;
            margin: 0;

            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

    .#{$hero-namespace}hero__message {
        //@extend .u-word-wrap;

        padding-top: $s__sz-m;
        padding-right: $s__sz-m;
        padding-bottom: $s__sz-m;
        padding-left: $s__sz-m;
        flex-grow: 1;


        & * {
            margin: 0;
        }

        & > .#{$hero-namespace}hero__message--fluid_text,
        & > .#{$hero-namespace}hero__message--fluid_heading {
            /*
                1. For IE10 to wrap text.
            */

            @include fluid-type(s__strip-unit($hero-breakpoint) * 16px, s__strip-unit($hero-max-message-breakpoint) * 16px, $hero-min-message-size, $hero-max-message-size);

            line-height: 1.3;
            font-weight: bold;
            margin: 0;
            max-width: 100%; /* [1] */
        }

        & > .#{$hero-namespace}hero__message--fluid_heading {
            @include fluid-type(s__strip-unit($hero-breakpoint) * 16px, s__strip-unit($hero-max-message-breakpoint) * 16px, $hero-min-heading-size, $hero-max-heading-size);
        }
    

    /*#{&}__image-credit {
        font-size: 0.875em;
        line-height: 1.3;
        padding: 0.2em 0.5em;
        color: #fff;
        background-color: rgba(0,0,0,0.4);
        position: absolute;
        right: 0;
        bottom: 0;
        max-width: 50%;

        a[href] {
            background-color: transparent;
            color: #fff;
            border-width: 1px;

            &:hover,
            &:active,
            &:focus {
                background-color: transparent;
                color: #fff;
            }
        }
    }*/

        .#{$hero-namespace}hero__cta {
            margin-left: auto;
            margin-top: $s__sz-s;
        }
    }
}

/*.#{$hero-namespace}hero--reversed .#{$hero-namespace}hero__image-credit {
    right: auto;
    left: 0;
}*/

@media only screen and (max-width:#{$hero-breakpoint}) {
     .#{$hero-namespace}hero-wrap {
        .#{$hero-namespace}hero {
            .#{$hero-namespace}hero__message {
                /*
                    1. This is here to override the inline style width declaration.
                       Allowing Joomla interface to specify width so it can be tweaked to suit the text,
                       but we want it full-width on narrow screens and we can't do MQ's in inline styles,
                */
                width: 100% !important; /* [1] */

                background-color: hsl(var(--t-primary-color-h), var(--t-primary-color-s), var(--t-primary-color-l));
                color: #fff;
            }
        }
    }
    /*.#{$hero-namespace}hero-carousel {
        #{&}__nav {
            margin: 0;

        }
    }*/
}

@media #{$s__ie10-11} {
    .#{$hero-namespace}hero {
        #{&}__message {
            /*
                1. IE11 is just not behaving well :-(
            */
            max-width: calc(100vw - 1.7rem) !important; /* [1] */
        }
    }
}

@media only screen and (max-width:#{$hero-breakpoint-wide}) {
    .#{$hero-namespace}hero-wrap.#{$hero-namespace}hero--wide-message {
        .#{$hero-namespace}hero {
            .#{$hero-namespace}hero__message {
                /*
                    1. This is here to override the inline style width declaration.
                       Allowing Joomla interface to specify width so it can be tweaked to suit the text,
                       but we want it full-width on narrow screens and we can't do MQ's in inline styles,
                */
                width: 100% !important; /* [1] */

                background-color: hsl(var(--t-primary-color-h), var(--t-primary-color-s), var(--t-primary-color-l));
                color: #fff;
            }
        }
    }
}

@media only screen and (min-width:#{$hero-breakpoint}) {

    .#{$hero-namespace}hero-wrap:not(.#{$hero-namespace}hero--wide-message) {

        .#{$hero-namespace}hero {
            .#{$hero-namespace}hero__message {
                position: absolute;
                z-index: 1;

                bottom: 0;
                left: 0;
                width: calc(10em + 20%);

                top: 0;
                background: rgba(255,255,255,0.75);

                display: flex;
                flex-wrap: wrap;
                align-items: center;
                align-content: center;
                justify-content: flex-start;

                & > * {
                    flex: 1 0 100%;
                }
            }
        }
    }

    .#{$hero-namespace}hero-wrap.#{$hero-namespace}hero--reversed:not(.#{$hero-namespace}hero--wide-message) .#{$hero-namespace}hero .#{$hero-namespace}hero__message {
        right: 0;
        left: auto;
    }

}

@media only screen and (min-width:#{$hero-breakpoint-wide}) {

    .#{$hero-namespace}hero-wrap.#{$hero-namespace}hero--wide-message {
        .#{$hero-namespace}hero {
            .#{$hero-namespace}hero__message {
                position: absolute;
                z-index: 1;

                bottom: 0;
                left: 0;
                width: calc(20em + 20%);
                max-width: 50%;
                top: 0;
                background: rgba(255,255,255,0.75);

                display: flex;
                flex-wrap: wrap;
                align-items: center;;
                align-content: center;
                justify-content: flex-start;
                
                & > * {
                    flex: 1 0 100%;
                    
                }
            }
        }
    }

    .#{$hero-namespace}hero-wrap.#{$hero-namespace}hero--reversed .#{$hero-namespace}hero .#{$hero-namespace}hero__message {
        right: 0;
        left: auto;
    }

}