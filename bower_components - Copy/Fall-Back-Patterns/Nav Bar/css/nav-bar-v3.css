/*-------------------------------------------------------------------------------------------------|

    START-CSS TOKENS
    ============================================================================================

    Fall-Back is designed for use with the basic
    [CSS Mustard Cut](https://github.com/Fall-Back/CSS-Mustard-Cut)

    This determines a browser support base of:

    IE 9+, FF 8+, Opera 12, [Chrome 29+, Android ~4.4+]
    Chrome 29+, Opera 16+, Safari 6.1+, iOS 7+, Android ~4.4+


    Any double-classing (e.g. `.class.class`) is deliberate and intended to increase specifity.
    This allows any applicable Start-CSS declarations to be overidden.
    E.g. `.{pattern} .{pattern}__child` would `a[href]`, but just `.{pattern}` wouldn't, so we use
    `.{pattern}.{pattren}`

    https://coolors.co/50514f-f25f5c-ffe066-247ba0-70c1b3

|-------------------------------------------------------------------------------------------------*/
/*-------------------------------------------------------------------------------------------------|

    START-CSS SETTINGS
    ============================================================================================

    Fall-Back is designed for use with the basic
    [CSS Mustard Cut](https://github.com/Fall-Back/CSS-Mustard-Cut)

    This determines a browser support base of:

    IE 9+, FF 8+, Opera 12, [Chrome 29+, Android ~4.4+]
    Chrome 29+, Opera 16+, Safari 6.1+, iOS 7+, Android ~4.4+


    Any double-classing (e.g. `.class.class`) is deliberate and intended to increase specifity.
    This allows any applicable Start-CSS declarations to be overidden.
    E.g. `.{pattern} .{pattern}__child` would `a[href]`, but just `.{pattern}` wouldn't, so we use
    `.{pattern}.{pattren}`

    https://coolors.co/50514f-f25f5c-ffe066-247ba0-70c1b3

|-------------------------------------------------------------------------------------------------*/
/*
    HTML
*/
/*
    BODY
*/
/*
    ANCHOR

    1. This size allows 2px on normal fonts, 1px on smaller fonts.
*/
/* [1] */
/* [1] */
/* [1] */
/*
    ASIDE
*/
/*! --------------------------------------------------------------------------------------------- *\

    Fall-Back Nav Bar v3.0.0
    https://github.com/Fall-Back/Patterns/tree/master/Nav%20Bar
    Copyright (c) 2021, Andy Kirk
    Released under the MIT license https://git.io/vwTVl

    Designed for use with the EM2 [CSS Mustard Cut](https://github.com/Fall-Back/CSS-Mustard-Cut)
    Edge, Chrome 39+, Opera 26+, Safari 9+, iOS 9+, Android ~5+, Android UCBrowser ~11.8+
    FF 47+

    PLUS IE11

\* ---------------------------------------------------------------------------------------------- */
/*
    This is a bit of a hack, but it's a way of letting JS know that this CSS has loaded.
    It doesn't work for Opera Mini, but I'm happy to provide this browser only with the
    unenhanced version.
    UPDATE: Due to problem with FOBP, now checking for existence of class in styesheet earlier
    on, so this isn't needed:
*/
/*.nav-bar::before {
    content: 'CSS Loaded';
    display: none;
}*/
.js-nav-bar {
  border: 0;
}

/* -- Basic/fallback layout --------------------------------------------------------------------- */
.nav-bar {
  /* -- Main wrapper ---------------------------------------------------------------------------*/
  /*
        1. Helps to position above subsequent elements so sub-navs sit on top.
        There are problems with this, if z-index or position is declared it messes up positioning
        if subsequent blocks also are nav-bars or similar.
    */
  /* -------------------------------------------------------------------------------------------*/
  /* -- Layout ---------------------------------------------------------------------------------*/
  /*
        iOS/OSX seem to apply mystery margins.
    */
  /*
    */
  /* -------------------------------------------------------------------------------------------*/
  /* -- Links and headings ---------------------------------------------------------------------*/
  /*
    */
  /*
		1. These override button styles defined as part of StartCSS. I may consider making these
		   customisable via more variables.
	*/
  /*
        FF15- fix button height.
    */
  /*
        Provide interaction effects for nav-bar links that ARE links:
        (this excludes submenu heading links - note that submenu links should never also be
        submenu heading links)
    */
  /*.nav-bar__link:focus {
        color: $s__nav-bar__link--color--alt;
        background-color: $s__nav-bar__link--background-color--alt2;
        border: 0;
        box-shadow: none;
    }*/
  /* -------------------------------------------------------------------------------------------*/
}

.nav-bar.nav-bar {
  background-color: #247BA0;
  width: 100%;
}

.nav-bar .nav-bar__end,
.nav-bar .nav-bar__main,
.nav-bar .nav-bar__start,
.nav-bar .nav-bar__title {
  margin: 0;
}

.nav-bar .sub-nav {
  padding: 0;
  margin: 0;
}

.nav-bar .nav-bar__items,
.nav-bar .sub-nav__items {
  display: block;
  list-style-type: none;
  padding: 0;
  margin: 0;
}

.nav-bar .sub-nav__items {
  margin-left: 1.125em;
  background-color: #113b4d;
}

.nav-bar .nav-bar__item,
.nav-bar .sub-nav__item {
  margin: 0;
}

.nav-bar .nav-bar__title .nav-bar__link {
  height: 1.5em;
  line-height: 1.5em;
  font-family: Arial, Helvetica, sans-serif;
  font-weight: bold;
  font-style: normal;
  font-size: 1.5em;
  white-space: nowrap;
}

.nav-bar .nav-bar__link,
.nav-bar .sub-nav__link,
.nav-bar .sub-nav__heading {
  display: block;
  position: relative;
  margin: 0;
  padding-left: 0.5625em;
  padding-right: 0.5625em;
  padding-bottom: 0;
  /* 1 */
  padding-top: 0;
  /* 1 */
  border: 0;
  border-radius: 0;
  line-height: 2.25em;
  text-decoration: none;
  outline: 0;
  box-shadow: none;
  /* 1 */
}

.nav-bar .nav-bar button.nav-bar__link {
  min-height: 2.25em;
}

.nav-bar .nav-bar__link {
  color: #fff;
  background-color: #247BA0;
}

.nav-bar .nav-bar__link--centered {
  text-align: center;
}

.nav-bar .sub-nav__heading {
  color: #fff;
}

.nav-bar .sub-nav__link {
  color: #fff;
  background-color: #113b4d;
}

.nav-bar .nav-bar__link:hover,
.nav-bar .nav-bar__link:active {
  color: #fff;
  border: 0;
  text-decoration: none;
}

.nav-bar .sub-nav__link:hover,
.nav-bar .sub-nav__link:active {
  color: #fff;
  border: 0;
  text-decoration: none;
}

.nav-bar .nav-bar__link:focus,
.nav-bar .sub-nav__link:focus {
  z-index: 2;
}

.nav-bar .sub-nav__control {
  display: none;
}

/* ********************************************************************************************** */
/* -- Enhanced layout --------------------------------------------------------------------------- */
/*
    This layout can only be used if JS is there to support the toggling of hidden submenus.
    (CSS only attempts weren't good enough)
    So, scoping these styles to the 'js-nav-bar' class.
*/
/*
		Note we do only want these applied when JS is available, because it'll have adde buttons so
		we need to adjust layout to that. In other words these styles break things in a no-js
		scenario.

	*/
.js-cmr--narrow .nav-bar__start {
  display: -ms-flexbox;
  display: flex;
  -ms-flex-pack: justify;
  justify-content: space-between;
}

.js-cmr--narrow .nav-bar__start > * {
  -ms-flex: 0 0 auto;
  flex: 0 0 auto;
}

.js-cmr--narrow .nav-bar__title {
  -ms-flex: 1 0 auto;
  flex: 1 0 auto;
  margin: 0 auto;
}

.js-cmr--wide {
  /*
            Add dividers.
            Dividers created by adding right borders to nav-bar__items.
        */
  /* -- Layout -----------------------------------------------------------------------------*/
  /*
            Prevent anything wrapping (fixed height is crucial to making this work),
            and make things float
        */
  /*
            1. Prevent content from increasing height of element.
        */
  /*
			This pseudo element helps to cover any sub-navs to stop them being visible in the main
			nav-bar.
		*/
  /* -- Behaviour: -------------------------------------------------------------------------*/
  /*
            Set-up slide toggling for sub-navs:

			1. This puts the sub-nav behind the covering pseudo element. See .nav-bar::before, above.
            2. OSX/iOS needs this:
		*/
}

.js-cmr--wide .nav-bar__title,
.js-cmr--wide .nav-bar__item {
  border-style: solid;
  border-color: rgba(255, 255, 255, 0.2);
  border-top-width: 0;
  border-bottom-width: 0;
  border-left-width: 0;
  border-right-width: 1px;
}

.js-cmr--wide .nav-bar__link[href] + * {
  border-style: dashed;
  border-color: rgba(255, 255, 255, 0.3);
  border-top-width: 0;
  border-bottom-width: 0;
  border-left-width: 1px;
  border-right-width: 0;
}

.js-cmr--wide.nav-bar,
.js-cmr--wide .nav-bar__title,
.js-cmr--wide .nav-bar__main,
.js-cmr--wide .nav-bar__items,
.js-cmr--wide .nav-bar__item,
.js-cmr--wide .nav-bar__item > *,
.js-cmr--wide .sub-nav__link,
.js-cmr--wide .sub-nav__heading {
  display: -ms-flexbox;
  display: flex;
  white-space: nowrap;
}

.js-cmr--wide.nav-bar > * {
  -ms-flex: 0 0 auto;
  flex: 0 0 auto;
}

.js-cmr--wide.nav-bar > .nav-bar__fill-at-wide {
  -ms-flex: 1 0 auto;
  flex: 1 0 auto;
}

.js-cmr--wide .sub-nav__control[data-content]::before {
  content: attr(data-content);
  display: inline;
  vertical-align: top;
  /* 1 */
}

.js-cmr--wide .nav-bar__end {
  white-space: nowrap;
  margin-left: auto;
  -ms-flex: 1 1 auto;
  flex: 1 1 auto;
}

.js-cmr--wide .nav-bar__end > * {
  margin-left: auto !important;
}

.js-cmr--wide.nav-bar::before {
  content: "";
  display: block;
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
  background-color: #247BA0;
}

.js-cmr--wide .sub-nav__heading {
  display: none;
}

.js-cmr--wide .sub-nav__control {
  display: block;
}

.js-cmr--wide .sub-nav__control .icon--is-open,
.js-cmr--wide .sub-nav__control[aria-wide="true"] .icon--is-closed {
  display: none;
}

.js-cmr--wide .sub-nav__control .icon--is-closed,
.js-cmr--wide .sub-nav__control[aria-wide="true"] .icon--is-open {
  display: inline;
}

.js-cmr--wide .sub-nav {
  position: absolute;
  visibility: hidden;
  left: 0;
  right: 0;
  top: 0;
  z-index: -2;
  /* 1 */
  height: 2.25em;
  /* 2 */
  transition: margin-top 0.5s ease, visibility 0s   ease 0.5s;
}

.js-cmr--wide .sub-nav__items {
  margin: 0;
  padding: 0;
}

.js-cmr--wide .sub-nav__control[aria-wide="true"] ~ .sub-nav {
  visibility: visible;
  margin-top: 2.25em;
  transition: margin-top 0.5s ease;
}

/* -------------------------------------------------------------------------------------------*/
@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
  /*
            In IE the width of some containers gets pushed to 100% instead of natural width, so the
            CMR breakpoint is mis-calculated. Since the clones are disposabled, I think it should be
            OK to force them as inline-flex so the calculations are correct:
        */
  .nav-bar.js-cmr--clone,
  .nav-bar.js-cmr--clone > * {
    display: inline-block !important;
  }
}

/* -----------------------------------------------------------------------------------------------*/
